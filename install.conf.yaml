- defaults:
    link:
      relink: true
      force: true

- clean: ['~']

- create:
    - ~/downloads

- link:
    ~/.zshrc: zshrc
    ~/.oh-my-zsh/custom/common.zsh:
      path: oh-my-zsh/custom/common.zsh
    ~/.oh-my-zsh/custom/macos.zsh:
      if: '[ `uname` = Darwin ]'
      path: oh-my-zsh/custom/macos.zsh
    ~/.oh-my-zsh/custom/codespace.zsh:
      if: '[ "${CODESPACES}" = true ]'
      path: oh-my-zsh/custom/codespace.zsh
    ~/.starship.toml:
      if: '[ "${CODESPACES}" = true ]'
      path: starship.toml
      force: true

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [scripts/common-init.sh, Common init]
  - [scripts/codespace-init.sh, Codespace init]
  - [scripts/macos-init.sh, macOS init]
