- defaults:
    link:
      relink: true
      force: true

- clean: ['~']

- link:
    ~/.zshrc: zshrc
    ~/starship.toml: starship.toml
    ~/.oh-my-zsh/custom/codespaces.zsh:
      if: '[ "${CODESPACES}" = true ]'
      path: oh-my-zsh/custom/codespaces.zsh
      force: true

- create:
    - ~/downloads

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [sudo chsh -s $(which zsh) $(whoami), Switching shell to zsh]
  - [sh -c "$(curl -fsSL https://starship.rs/install.sh)" -- --yes, Installing Starship prompt]
