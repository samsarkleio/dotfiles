- defaults:
    link:
      relink: true
      force: true

- clean: ['~']

- link:
    ~/.zshrc: zshrc
    ~/.starship.toml:
      if: '[ "${CODESPACES}" = true ]'
      path: starship.toml
      force: true
    ~/.oh-my-zsh/custom/codespaces.zsh:
      if: '[ "${CODESPACES}" = true ]'
      path: oh-my-zsh/custom/codespaces.zsh
      force: true

- create:
    - ~/downloads

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [scripts/codespace-init.sh]
